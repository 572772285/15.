<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>面向对象拖拽</title>
	<style>
	</style>
	<script>
		window.onload=function(){
			new gouzaohanshu({width:400,height:400,background:'blue'})
			new gouzaohanshu({width:200,height:200,background:'pink'})
			new Gouzaohanshu1()
		}
		function gouzaohanshu(option){
			this.disY=0;
			this.disX=0;
			// console.log(this)
			this.width=option.width;
			this.height=option.height;
			this.background=option.background;
			this.chouli();
			this.anxia();
		}
		gouzaohanshu.prototype.anxia=function(){
			this.oDiv.onmousedown=function(ev){
			// console.log(this)
			var oEvent=ev||event;
			this.disX=oEvent.clientX- this.oDiv.offsetLeft;
			this.disY=oEvent.clientY- this.oDiv.offsetTop;
				document.onmousemove=this.fnmove.bind(this);
				document.onmouseup=this.fnup;
			}.bind(this);
		}
		gouzaohanshu.prototype.chouli=function(){
			this.oDiv=document.createElement('div');
			console.log(this)
			this.oDiv.style.position='absolute';
			this.oDiv.style.width=this.width+'px';
			this.oDiv.style.height=this.height+'px';
			this.oDiv.style.background=this.background;
			document.body.appendChild(this.oDiv);
		}
		gouzaohanshu.prototype.fnmove=function(ev){
					var oEvent=ev||event;
					this.oDiv.style.left=oEvent.clientX-this.disX+'px';
					this.oDiv.style.top=oEvent.clientY-this.disY+'px';
		}
		gouzaohanshu.prototype.fnup=function(ev){
			document.onmousemove=null;
			document.onmouseup=null;
		}
		function Gouzaohanshu1(option){
			gouzaohanshu.call(this,option)
			console.log(this)
		}
	</script>
</head>
<body>

</body>
</html>